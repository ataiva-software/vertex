{{- if .Values.monitorService.enabled }}
# Service
{{- $serviceContext := dict "root" . "serviceName" "monitor-service" "serviceConfig" .Values.monitorService }}
{{- include "eden.service" $serviceContext }}
---
# Deployment
{{- $deploymentContext := dict "root" . "serviceName" "monitor-service" "serviceConfig" .Values.monitorService "dbName" "eden_monitor" "extraEnv" nil }}
{{- include "eden.deployment" $deploymentContext }}
---
# HorizontalPodAutoscaler
{{- $hpaContext := dict "root" . "serviceName" "monitor-service" "serviceConfig" .Values.monitorService }}
{{- include "eden.hpa" $hpaContext }}
---
# NetworkPolicy
{{- $networkContext := dict "root" . "serviceName" "monitor-service" "extraEgress" nil }}
{{- include "eden.networkpolicy" $networkContext }}
---
# PodDisruptionBudget
{{- $pdbContext := dict "root" . "serviceName" "monitor-service" }}
{{- include "eden.pdb" $pdbContext }}
{{- end }}